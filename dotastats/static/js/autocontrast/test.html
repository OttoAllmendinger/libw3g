<!DOCTYPE html>
<html>
    <head>
        <script src="http://www.google.com/jsapi"></script>
        <script src="crc32.js"></script>
        <script src="colorutils.js"></script>
        <script>
            google.load("jquery", "1.3.2");

            google.setOnLoadCallback(function() {
                $.getScript("jquery.color.utils-0.1.0.js", function() {
                    $.getScript("jquery.autocontrast.js", function() {
                        var extend = function(elm) {
                            for (var i=0; i<1000; i++) {
                                elm.append('<span> '+i+' </span>');
                            }
                        }

                        extend($("#dark"));

                        $("#dark").find("span").each( function() {
                            $(this).autocontrast("dark");
                        });

                        $.autocontrast_test($("canvas#hslTest").get(0));

                });
            });
        });
        </script>
        <style>
            #dark {
                background: black;
            }

            #bright {
                background: white;
            }
        </style>
    </head>
    <body>
        <div id="dark">
        </div>

        <div id="bright">
        </div>

        <canvas id="hslTest" width="360" height="360">
            No Canvas Support!!1
        </canvas>
    </body>
</html>
